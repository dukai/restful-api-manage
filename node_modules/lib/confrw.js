var fs = require('fs');
var path = require('path');

var cwd = process.cwd();
module.exports = {
    save: function(data, filename){
        if(arguments.length == 1){
            filename = cwd + path.sep + '.preference.json';
        }

        fs.writeFileSync(filename, JSON.stringify(data, null, 4));
    },
    read: function(filename){
      if(arguments.length == 0){
        filename = cwd + path.sep + '.preference.json';
      }
      try{
        require('fs').accessSync(filename);
        return JSON.parse(fs.readFileSync(filename));
      }catch(ex){
        return {};
      }
    }
};
